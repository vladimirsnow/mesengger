<!DOCTYPE html>
<html lang="ru">
  <head>
       
    <meta charset="utf-8" />
       
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
       
    <title>Мессенджер MAX</title>
       
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="adaptation.css" />
  </head>

  <body>
       
    <div class="container">
             
      <h2>Мессенджер MAX</h2>

             
      <div id="auth">
                   
        <div class="row">
                         
          <input id="email" type="email" placeholder="Email" />                
          <input id="password" type="password" placeholder="Пароль" />        
          <input id="nickname" type="text" placeholder="Ник (только при регистрации)" />  
           
        </div>
                   
        <div class="controls">
                          <button id="loginBtn">Войти</button>    
                            <button id="registerBtn">Регистрация</button>
        </div>
               
      </div>

             
      <div id="chat" style="display: none">
        <div class="chat-main-content"> 
            
            <div id="chatListSidebar">
                <div class="row chat-header">
                    <div class="small" id="welcome">Привет</div>
                    <button id="logoutBtn">Выйти</button>
                </div>
                
                <h3>Чаты</h3>
                <button id="newChatBtn" class="primary" style="width: 100%; margin-bottom: 10px;">Начать новый чат</button>
                <div id="chatList">
                    <div class="chat-item active" id="globalChatLink" data-chat-id="global">Общий чат</div>
                    </div>
            </div>

            <div id="activeChatArea">
                <div class="row chat-header">
                    <div class="small" id="currentChatName" style="font-weight: bold; flex-grow: 1;">Общий чат</div>
                    <button id="callBtn" title="Начать звонок" style="display:none;">📞</button>
                </div>

                <div id="messages"></div>

                <div class="controls" style="margin-top: 8px">
                    <input
                        id="messageInput"
                        type="text"
                        placeholder="Введите сообщение..."
                        style="flex: 1"
                    />
                    <label for="fileInput" title="Прикрепить файл">📎</label>
                    <button id="sendBtn" class="primary">Отправить</button>
                </div>
                <div id="progress" style="margin-left: 0;"></div>
            </div>
        </div>

                    <input type="file" id="fileInput" />        
      </div>
         
    </div>
       
    <div id="searchUserModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 100;">
        <div style="background: white; padding: 20px; border-radius: 8px; width: 90%; max-width: 400px; margin: 100px auto; ">
            <h4>Начать чат с пользователем</h4>
            <div class="row" style="margin-bottom: 8px;">
                <input id="searchNickname" type="text" placeholder="Введите ник пользователя" style="flex: 1;"/>
                <button id="searchUserBtn" class="primary">Найти</button>
            </div>
            <div id="searchResults" style="margin-bottom: 10px; min-height: 50px; border: 1px solid #ddd; padding: 5px; border-radius: 6px;"></div>
            <button id="closeSearchModal" style="width: 100%;">Закрыть</button>
        </div>
    </div>
    
    <script type="module" src="app.js"></script>
  </body>
</html>